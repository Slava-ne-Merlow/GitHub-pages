var i=document.getElementById("inp"),l=document.getElementById("add"),c=document.getElementById("list");if(!i||!l||!c)throw new Error("Missing #inp, #add or #list in HTML");var s=0,o=new Map([]);function m(t){let r=Object.fromEntries(Array.from(t.entries(),([e,n])=>[String(e),n]));localStorage.setItem("map",JSON.stringify(r))}window.addEventListener("load",()=>{let t=localStorage.getItem("counter");if(t){let e=Number(t);Number.isNaN(e)||(s=e)}let r=localStorage.getItem("map");if(r)try{let e=JSON.parse(r);e&&typeof e=="object"&&(o=new Map(Object.entries(e).map(([n,a])=>[Number(n),String(a)])))}catch{}d(o)});l.addEventListener("click",()=>{let t=i.value.trim();t&&(o.set(s,t),m(o),s+=1,localStorage.setItem("counter",String(s)),d(o),i.value="",i.focus())});function d(t){c.innerHTML="",t.forEach((r,e)=>{c.appendChild(u(e,r))})}function u(t,r){let e=document.createElement("li");e.id=String(t);let n=document.createElement("span");n.textContent=r,n.className="text",n.addEventListener("click",()=>n.classList.toggle("done"));let a=document.createElement("button");return a.textContent="x",a.className="del",a.addEventListener("click",()=>{e.remove(),o.delete(t),m(o)}),e.appendChild(n),e.appendChild(a),e}
//# sourceMappingURL=main.js.map
